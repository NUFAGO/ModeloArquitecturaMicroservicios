// components/administracion.components.c4 - Microservicio de AdministraciÃ³n (KAPO PRINCIPAL - ESTRUCTURA REAL)

model {
  // ===== ðŸŸ¦ API GRAPHQL =====
  ad_graphql_api = application 'GraphQL API' {
    description 'API GraphQL principal del backend para mÃ³dulo de administraciÃ³n'
    technology 'Apollo Server + Express.js'

    style {
      color blue  // Azul para APIs
    }
  }

  // ===== ðŸŸ© SERVICIOS PRINCIPALES =====
  ad_empresa_service = application 'EmpresaService' {
    description 'Servicio principal para gestiÃ³n de empresas'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/EmpresaService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_usuario_service = application 'UsuarioService' {
    description 'Servicio principal para gestiÃ³n de usuarios del sistema'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/UsuarioService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_rol_service = application 'RoleService' {
    description 'Servicio para gestiÃ³n de roles y permisos'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/RoleService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_menu_service = application 'MenuService' {
    description 'Servicio para gestiÃ³n de menÃºs del sistema'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/MenuService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  // ===== ðŸŸ¨ RESOLVERS =====
  ad_empresa_resolver = component 'EmpresaResolver' {
    technology 'GraphQL Resolver'
    description 'Resolver para operaciones CRUD de empresas'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/resolvers/EmpresaResolver.ts 'Ver cÃ³digo fuente'

    style {
      color amber  // Amarillo para resolvers
    }
  }

  ad_usuario_resolver = component 'UsuarioResolver' {
    technology 'GraphQL Resolver'
    description 'Resolver para operaciones CRUD de usuarios'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/resolvers/UsuarioResolver.ts 'Ver cÃ³digo fuente'

    style {
      color amber  // Amarillo para resolvers
    }
  }

  ad_rol_resolver = component 'RoleResolver' {
    technology 'GraphQL Resolver'
    description 'Resolver para operaciones de roles'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/resolvers/RoleResolver.ts 'Ver cÃ³digo fuente'

    style {
      color amber  // Amarillo para resolvers
    }
  }

  ad_menu_resolver = component 'MenuResolver' {
    technology 'GraphQL Resolver'
    description 'Resolver para operaciones de menÃºs'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/resolvers/MenuResolver.ts 'Ver cÃ³digo fuente'

    style {
      color amber  // Amarillo para resolvers
    }
  }

  // ===== â¬œ MODELOS/ENTIDADES =====
  ad_empresa_model = component 'Empresa Model' {
    technology 'Mongoose Schema'
    description 'Modelo de datos para empresas'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/models/Empresa.ts 'Ver cÃ³digo fuente'

    style {
      color slate  // Gris para modelos
    }
  }

  ad_usuario_model = component 'Usuario Model' {
    technology 'Mongoose Schema'
    description 'Modelo de datos para usuarios'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/models/Usuario.ts 'Ver cÃ³digo fuente'

    style {
      color slate  // Gris para modelos
    }
  }

  ad_rol_model = component 'Rol Model' {
    technology 'Mongoose Schema'
    description 'Modelo de datos para roles del sistema'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/models/Rol.ts 'Ver cÃ³digo fuente'

    style {
      color slate  // Gris para modelos
    }
  }

  ad_menu_model = component 'Menu Model' {
    technology 'Mongoose Schema'
    description 'Modelo de datos para menÃºs del sistema'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/models/Menu.ts 'Ver cÃ³digo fuente'

    style {
      color slate  // Gris para modelos
    }
  }

  // ===== âš« SERVICIOS ESPECIALIZADOS =====
  ad_banco_service = application 'BancoService' {
    description 'Servicio para gestiÃ³n de bancos'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/BancoService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_grupo_acceso_service = application 'GrupoAccesoService' {
    description 'Servicio para gestiÃ³n de grupos de acceso'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/GrupoAccesoService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_sistema_service = application 'SistemaService' {
    description 'Servicio para configuraciÃ³n del sistema'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/SistemaService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  // ===== ðŸ”„ SERVICIOS DE CONFIGURACIÃ“N =====
  ad_configuracion_service = application 'ConfiguracionService' {
    description 'Servicio para configuraciones generales del sistema'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/ConfiguracionService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  ad_auditoria_service = application 'AuditoriaService' {
    description 'Servicio para auditorÃ­a y logs del sistema'
    technology 'TypeScript + Node.js'

    link https://github.com/NUFAGO/inacons-backend/blob/main/src/Graphql/services/AuditoriaService.ts 'Ver cÃ³digo fuente'

    style {
      color green  // Verde para servicios
    }
  }

  // ===== âš« INFRAESTRUCTURA =====
  ad_mongodb = database 'MongoDB' {
    description 'Base de datos principal MongoDB'
    icon tech:mongodb
  }

  ad_redis = database 'Redis' {
    description 'Sistema de cache Redis'
    icon tech:redis
  }

  ad_queue_service = queue 'Queue Service' {
    description 'Sistema de colas para procesamiento asÃ­ncrono'
  }

  // ===== ðŸ”„ RELACIONES REALES =====

  // API â†’ Resolvers
  ad_graphql_api -> ad_empresa_resolver 'Procesa queries/mutations'
  ad_graphql_api -> ad_usuario_resolver 'Procesa queries/mutations'
  ad_graphql_api -> ad_rol_resolver 'Procesa queries/mutations'
  ad_graphql_api -> ad_menu_resolver 'Procesa queries/mutations'

  // Resolvers â†’ Servicios Principales
  ad_empresa_resolver -> ad_empresa_service 'Delega operaciones'
  ad_usuario_resolver -> ad_usuario_service 'Delega operaciones'
  ad_rol_resolver -> ad_rol_service 'Delega operaciones'
  ad_menu_resolver -> ad_menu_service 'Delega operaciones'

  // Servicios Principales â†’ Modelos
  ad_empresa_service -> ad_empresa_model 'Persiste datos'
  ad_usuario_service -> ad_usuario_model 'Persiste datos'
  ad_rol_service -> ad_rol_model 'Persiste datos'
  ad_menu_service -> ad_menu_model 'Persiste datos'

  // Servicios Especializados â†’ Modelos
  ad_banco_service -> ad_empresa_model 'Relaciona bancos'
  ad_grupo_acceso_service -> ad_usuario_model 'Gestiona accesos'
  ad_sistema_service -> ad_empresa_model 'Configura sistema'

  // Servicios de ConfiguraciÃ³n â†’ Modelos
  ad_configuracion_service -> ad_empresa_model 'Configuraciones'
  ad_auditoria_service -> ad_usuario_model 'Audita acciones'

  // Servicios colaboran entre sÃ­ (Flujo de AdministraciÃ³n)
  ad_empresa_service -> ad_usuario_service 'Crea usuarios'
  ad_empresa_service -> ad_banco_service 'Asocia bancos'
  ad_empresa_service -> ad_configuracion_service 'Configura empresa'

  ad_usuario_service -> ad_rol_service 'Asigna roles'
  ad_usuario_service -> ad_grupo_acceso_service 'Define accesos'
  ad_usuario_service -> ad_auditoria_service 'Registra acciones'

  ad_rol_service -> ad_menu_service 'Define permisos de menÃº'
  ad_menu_service -> ad_grupo_acceso_service 'Agrupa accesos'

  // Servicios â†’ Infraestructura
  ad_empresa_service -> ad_mongodb 'Accede a base de datos'
  ad_usuario_service -> ad_mongodb 'Accede a base de datos'
  ad_rol_service -> ad_mongodb 'Accede a base de datos'
  ad_menu_service -> ad_mongodb 'Accede a base de datos'

  ad_empresa_service -> ad_redis 'Usa cache'
  ad_usuario_service -> ad_redis 'Usa cache'

  // Servicios de AuditorÃ­a â†’ Queue
  ad_auditoria_service -> ad_queue_service 'Procesa logs async'
}